###############################################
# cmake configuration file for LCCD
# @author Jan Engels, DESY
###############################################

SET( LCCD_FOUND FALSE )
MARK_AS_ADVANCED( LCCD_FOUND )

# do not store find results in cache
SET( LCCD_INCLUDE_DIR LCCD_INCLUDE_DIR-NOTFOUND )

FIND_PATH( LCCD_INCLUDE_DIR
	NAMES lccd.h
	PATHS @CMAKE_INSTALL_PREFIX@
	PATH_SUFFIXES include source/include
	NO_DEFAULT_PATH
)
IF( NOT LCCD_INCLUDE_DIR )
    MESSAGE( STATUS "Check for LCCD: ${LCCD_HOME}"
					" -- failed to find LCCD include directory!!" )
ELSE( NOT LCCD_INCLUDE_DIR )
    MARK_AS_ADVANCED( LCCD_INCLUDE_DIR )
ENDIF( NOT LCCD_INCLUDE_DIR )


# do not store find results in cache
SET( LCCD_LIB LCCD_LIB-NOTFOUND )

FIND_LIBRARY( LCCD_LIB
	NAMES lccd
	PATHS @CMAKE_INSTALL_PREFIX@
	PATH_SUFFIXES lib
	NO_DEFAULT_PATH
)
IF( NOT LCCD_LIB )
    MESSAGE( STATUS "Check for LCCD: ${LCCD_HOME}"
					" -- failed to find LCCD library!!" )
ELSE( NOT LCCD_LIB )
    MARK_AS_ADVANCED( LCCD_LIB )
ENDIF( NOT LCCD_LIB )


# set variables and display results
IF( LCCD_INCLUDE_DIR AND LCCD_LIB )
    SET( LCCD_FOUND TRUE )
    SET( LCCD_INCLUDE_DIRS ${LCCD_INCLUDE_DIR} )
    SET( LCCD_LIBRARY_DIRS "@CMAKE_INSTALL_PREFIX@/lib" )
	SET( LCCD_LIBRARIES ${LCCD_LIB} )
	SET( LCCD_DEFINITIONS "-DUSE_LCCD" )
    MARK_AS_ADVANCED( LCCD_INCLUDE_DIRS LCCD_LIBRARY_DIRS )
    MARK_AS_ADVANCED( LCCD_LIBRARIES LCCD_DEFINITIONS )
	MESSAGE( STATUS "Check for LCCD: ${LCCD_HOME} -- works" )
ELSE( LCCD_INCLUDE_DIR AND LCCD_LIB )
	IF( LCCD_FIND_REQUIRED )
		MESSAGE( FATAL_ERROR "Check for LCCD: ${LCCD_HOME} -- failed!!" )
    ELSE( LCCD_FIND_REQUIRED )
        MESSAGE( STATUS "Check for LCCD: ${LCCD_HOME}"
						" -- failed!! will skip this package..." )
    ENDIF( LCCD_FIND_REQUIRED )
ENDIF( LCCD_INCLUDE_DIR AND LCCD_LIB )
