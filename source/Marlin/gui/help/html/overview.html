<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
	<title> GUI Overview </title>
    </head>
    <body>
	
	<br><a href="../index.html"> Back to Table of Contents </a><br>
	<div align=center><h2> GUI Overview </h2></div><br>

	<p>Marlin GUI is a graphical user interface that allows you to interactively create or repair Marlin XML 
           steering files.</p>
	<p>It has various separate sections equivalent to the ones you are already familiar with from the XML<br>
	steering files: (global section, execute section, GEAR file, LCIO Input files, etc...)<br>
	It has an automatic consistency-checking feature that allows you to constantly and instantly check if the<br>
	steering file contains errors.</p>
	<p>The consistency check tests if every active processor is installed and has all the required input 
        collections<br>
	available from previous processors or from the LCIO files declared in the global section.<br>
	It also checks if there are duplicate collections defined in the event, or if every file or symbolic link 
        specified<br>
	in the steering is valid.</p>
	<p>This GUI is based on the Marlin steering check command line tool which you can run by:<br>
	"Marlin -c steeringFile.xml". <br>
	Altough this tool is enough for checking the consistency of a steering file, it<br>
	doesn't give you the chance to modify it and repair the errors found, if any.</p>
	<p>The GUI also provides you with the possibility to create a new steering file from scratch, where you can 
         add the processors you need with<br>
	a few clicks and change their default parameter values to the ones you require for your job.</p>
	<p>Marlin GUI was designed with the main goal of substituting the somewhat tidious and error-prone task of 
        editing Marlin XML<br>
	steering files by hand with a productive, error-free and intuitive way for physicists.</p>

	<br><a href="../index.html"> Back to Table of Contents </a><br>

	<br><br><hr><br><a name="requirements"></a><h3>Requirements</h3><br>
	<p>The MarlinGUI is available starting from Marlin v00-09-06.
	The consistency check works for all processors that use the new methods:<br>
        &nbsp;&nbsp;&nbsp;registerInputCollection(LCIO::_TYPE_,...), <br>
        &nbsp;&nbsp;&nbsp;registerInputCollections(LCIO::_TYPE_,...) and <br>
        &nbsp;&nbsp;&nbsp;registerOutputCollection(LCIO::_TYPE_,...) <br>
        to register the parameters that refer to input and output collections
        respectively. <br>
        (LCIO::_TYPE_ denotes the LCIO type of the collection, e.g. LCIO::RECONSTRUCTEDPARTICLE)<br> 
        In order to use the new checking feature in your own processors simply replace all calls to 
        registerParameter(...) for collection parameters with the corresponding call to one of the above functions.<br>
        All processors that use these functions will be taken into account for checking the consistency of collection 
	names and type by the MarlinGUI and command line version.<br></p>
        <p>
	You can convert older steering files to the new format with:<br>
        "Marlin -f old.xml steer.xml"<br>
	This will automatically add the collection type information needed for all processors that properly define the 
	input and output collections with the above functions.<br></p>

	<br><a href="../index.html"> Back to Table of Contents </a><br>

	<br><br><hr><br><a name="working"></a><h3>Working with the GUI</h3><br>
	<p>There are some useful tips you should take into account for better working with Marlin GUI:</p>
	<ul>
	    <li> 1st: compile Marlin with all the processors you need to work with. (The fastest and easiest<br>
	    way to check if a steering file has all processors installed is to run "Marlin -c steerFile.xml")</li><br>
	    
	    <li> 2nd: If you want to create a new steering file from scratch you can do it in 2 ways:</li>
		<ul>
		    <li>In the GUI, under File->New...</li>
		    <li>Create an example file with all processors by running "Marlin -x >mysteer.xml" and<br>
		    afterwards edit this file with "MarlinGUI mysteer.xml" (This way you save the work of having to add<br>
		    each processor one-by-one in the GUI</li>
		</ul><br>
		
	    <li> 3rd: For getting the most out of the automatic checking done by the GUI you should always do things in this order:</li>
		<ol>
		    <li>Add/Remove LCIO files</li>
		    <li>Activate the inactive processors you need / Deactivate the active processors you don't need</li>
		    <li>Move the active processors to the desired execution order</li>
		    <li>Edit the processors: if the processor you want to edit has errors, check the error output before editing it</li>
		    <li>Edit the processor's conditions</li>
		</ol><br>Tip: Try to avoid editing inactive processors, whenever possible!<br>

	    <li> 4th: Whenever you edit a steering file with Marlin GUI, a backup copy is created with a ~ appended to the file<br>
	    extension. This file can help you out in the case you have lost some important comments or optional parameter values by<br>
	    editing a steering file with Marlin GUI.</li>
	</ul>

	<br><a href="../index.html"> Back to Table of Contents </a><br>

	<br><br><hr><br><a name="lciocollections"></a><h3> List of Collections in LCIO Files </h3><br>
	<div align=center><img src="../images/overview_lciocollections.png" border=2></img></div><br>
	
	<p>This table located at the upper left corner of the layout is only a list of all collections<br>
	found in the first 30 Events from each of the <a href="global.html#lciofiles"> LCIO Files </a> added in the
	<a href="global.html"> Global Section </a>.</p>
	<p>The number of events read each time you load an LCIO file can be defined in the<br>
	header file "$MARLIN/include/marlin/MarlinSteerCheck.h" under the variable<br>
	"MAXEVENTS" in the top of the file. Please note that if you change this value<br>
	you need to recompile Marlin and the GUI so that changes take effect.</p>
	
	<br><a href="../index.html"> Back to Table of Contents </a><br>
	
	<br><br><hr><br><a name="viewoptions"></a><h3> View Options </h3><br>
	<div align=center><img src="../images/overview_viewoptions.png" border=2></img></div><br>

	<p>This 2 buttons allow you to hide the 
	<a href="processors.html#errors"> Error Description Section of the Active Processors </a><br>
	as well as the <a href="processors.html#inactive"> Inactive Processors </a> for visibility purposes.</p>

	<br><a href="../index.html"> Back to Table of Contents </a><br>
    </body>
</html>

